<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binary Search Tree Visualizer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-copyright">© Philip Shih 2025</div>
    <!-- <h1>Binary Search Tree Visualizer</h1> Removed -->
    <div class="controls-container"> <!-- New outer container -->

        <div class="control-group">
            <h3>Tree Setup</h3>
            <div> <!-- Combined Type and Random/Clear -->
                <label for="treeModeSelect">Type:</label>
                <select id="treeModeSelect">
                    <option value="BST" selected>Standard BST</option>
                    <option value="AVL">AVL Tree (Self-Balancing)</option>
                </select>
                <input type="number" id="randomCount" placeholder="# nodes" value="10" min="1" max="50">
                <button id="randomTreeBtn">Random Tree</button>
                <button id="clearTreeBtn">Clear Tree</button>
            </div>
             <div>
                <input type="text" id="bulkValues" placeholder="e.g., 50,30,70">
                <button id="bulkInsertBtn">Bulk Insert</button>
            </div>
        </div>

        <div class="control-group">
            <h3>Node Operations</h3>
             <div>
                <input type="number" id="nodeValue" placeholder="Enter value">
                <button id="insertBtn">Insert</button>
                <button id="searchBtn">Search</button>
                <button id="deleteBtn">Delete</button>
            </div>
            <div>
                <input type="number" id="successorPredecessorValue" placeholder="Node value">
                <button id="findSuccessorBtn">Find Successor</button>
                <button id="findPredecessorBtn">Find Predecessor</button>
            </div>
        </div>

         <div class="control-group">
            <h3>Traversal & Info</h3>
             <div>
                <button id="inOrderBtn">In-order</button>
                <button id="preOrderBtn">Pre-order</button>
                <button id="postOrderBtn">Post-order</button>
                <button id="levelOrderBtn">Level-order</button>
            </div>
             <div>
                 <button id="findMinBtn">Find Min</button>
                 <button id="findMaxBtn">Find Max</button>
            </div>
        </div>

        <!-- New Control Group for Advanced Search -->
        <div class="control-group">
            <h3>Advanced Search/Query</h3>
            <div>
                <input type="number" id="kValue" placeholder="Enter K" min="1">
                <button id="findKthSmallestBtn">Find Kth Smallest</button>
                <button id="findKthLargestBtn">Find Kth Largest</button>
            </div>
            <div>
                <input type="number" id="rangeMin" placeholder="Min value">
                <input type="number" id="rangeMax" placeholder="Max value">
                <button id="findRangeBtn">Find in Range</button>
            </div>
        </div>

         <div class="control-group">
             <h3>Settings</h3>
             <label for="speedControl">Speed:</label>
             <select id="speedControl">
                 <option value="250">Fast</option>
                 <option value="500" selected>Medium</option>
                 <option value="1000">Slow</option>
             </select>
             <!-- Reset View Button Moved -->
         </div>

    </div> <!-- End controls-container -->

    <!-- Updated Message Area -->
    <div class="message-area">
        <p id="message">Enter value & click Insert, Bulk Insert, Random Tree, or click canvas to add. Right-click node to delete.</p>
    </div>

    <!-- New Tree Properties Display Area -->
    <div class="properties-area">
        <h3>Tree Properties</h3>
        <p>Height: <span id="treeHeight">-</span></p>
        <p>Node Count: <span id="nodeCount">-</span></p>
        <p>Balanced: <span id="balancedStatus">-</span></p>
    </div>

    <!-- New Step-by-Step Controls (Initially Hidden) -->
    <div class="step-controls" id="stepControls" style="display: none;">
        <button id="stepNextBtn" title="Execute next step of visualization">Next Step</button>
        <button id="stepPauseResumeBtn" title="Pause/Resume automatic execution">Pause</button>
        <button id="stepRunBtn" title="Run visualization to completion without pausing">Run to End</button>
        <button id="stepCancelBtn" title="Stop current visualization">Cancel Viz</button>
    </div>

    <div class="canvas-container">
        <canvas id="bstCanvas" height="500"></canvas> <!-- Removed fixed width -->
        <!-- New container for view controls inside canvas area -->
        <div class="view-controls">
             <button id="resetViewBtn" title="Reset zoom and pan">Reset View</button>
             <!-- Moved Zoom Control -->
             <div id="zoom-control">
                 <label for="zoomSlider">Zoom:</label>
                 <input type="range" id="zoomSlider" min="0.1" max="5.0" value="1.0" step="0.05">
                 <span id="zoomValue">1.0x</span>
             </div>
        </div>
        <!-- Copyright moved inside canvas container -->
        <div id="canvas-copyright">© Philip Shih 2025</div>
    </div>
    <!-- Footer removed from here -->

    <!-- Zoom control moved inside canvas-container -->

    <script src="script.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">

  {% include head.html %}

  <body>
    <nav class="nav">
      <div class="nav-container">
        <a href="{{ site.baseurl }}/">
          <h2 class="nav-title">{{ site.title }}</h2>
        </a>
        <div class="password-entry-container">
          <input type="password" id="secret-password" placeholder="Password">
          <button onclick="checkPassword()">Enter</button>
        </div>
        <ul>
          <li class="nav-link-about"><a href="{{ '/' | prepend: site.baseurl }}">About</a></li>
          <li><a href="{{ '/portfolio' | prepend: site.baseurl }}/">Fun Stuff</a></li>
        </ul>
    </div>
  </nav>

    <main>
      {{ content }}
    </main>

    <footer>
      <span>
        &copy;  {{ site.author.name }} <time datetime="{{ site.time }}">{{ site.time | date: '%Y' }}</time>
      </span>
    </footer>

    <script>
      function checkPassword() {
        const passwordInput = document.getElementById('secret-password');
        const password = passwordInput.value;
        const correctPassword = 'E916!'; 

        if (password === correctPassword) {
          // Redirect to the Spotify access page
          window.location.href = '{{ "/spotify_access.html" | relative_url }}';
        } else {
          alert('Incorrect password.');
        }
        // Clear the input field after attempt
        passwordInput.value = ''; 
      }

      // Optional: Allow pressing Enter key in the password field to submit
      document.getElementById('secret-password').addEventListener('keypress', function(event) {
        if (event.key === 'Enter') {
          event.preventDefault(); // Prevent default form submission if it were in a form
          checkPassword();
        }
      });
    </script>
  </body>
</html>
